<header>
  <!-- Video Background -->
  <video autoplay muted loop playsinline class="video-background">
    <source src="videos/audiovook-head.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>

  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <img class="img-responsive" src="img/logo-v0-close.svg" width="50px" alt="audiovook logo" />
        <div class="intro-text">
          <span class="name">{{ site.title }}</span>
          <hr class="star-light" />
            <audio id="myAudio" src="{{ '/assets/audios/' | append: page.lang | append: '.mp3' }}"></audio>


{% assign lang = page.lang | default: "ca" %}
<span style="display: block; text-align: center; margin-bottom: 5px;">{{ site.nav[lang].versioaudio }}</span>

<div class="name" style="display: flex; align-items: center; justify-content: center; gap: 10px; width: 100%; max-width: 400px; margin: 0 auto;">
    <button onclick="document.getElementById('myAudio').play()" style="padding: 5px 10px; font-size: 14px; border: none; background: #007bff; color: white; border-radius: 5px; cursor: pointer;">▶</button>
    <button onclick="document.getElementById('myAudio').pause()" style="padding: 5px 10px; font-size: 14px; border: none; background: #dc3545; color: white; border-radius: 5px; cursor: pointer;">⏸</button>
    <input type="range" id="progress" value="0" min="0" step="1" style="flex-grow: 1; height: 5px; cursor: pointer;">
</div>


<script>
    const audio = document.getElementById('myAudio');
    const progress = document.getElementById('progress');

    // Assegurar-se que la barra tingui el màxim correcte quan es carrega l'àudio
    audio.addEventListener('loadedmetadata', () => {
        progress.max = audio.duration;
    });

    // Actualitza la barra de progrés mentre es reprodueix l'àudio
    audio.addEventListener('timeupdate', () => {
        progress.value = audio.currentTime;
    });

    // Permet arrossegar la barra per canviar la posició de reproducció
    progress.addEventListener('input', () => {
        audio.currentTime = progress.value;
    });
</script>




          <!-- Condició per comprovar si hi ha una llengua seleccionada -->
          {% if page.lang and site.nav[page.lang] %}
            <!-- Si la llengua està definida, mostrem les variables de la llengua seleccionada -->
            <span class="skills">{{ site.nav[page.lang].skills }}</span>
            <br />
            <span class="skills">{{ site.nav[page.lang].skills2 }}</span>
          {% else %}
            <!-- Si no hi ha llengua seleccionada, mostrem les variables per defecte (ca) -->
            <span class="skills">{{ site.nav['ca'].skills }}</span>
            <br />
            <span class="skills">{{ site.nav['ca'].skills2 }}</span>
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</header>
